<h3>Customers</h3>

@inject SolarTech.Data.SolarTechDbContext DbContext
@inject NavigationManager NavigationManager


@code {
    private List<Customer> customers = new List<Customer>();

    protected override async Task OnInitializedAsync()
    {
        customers = await DbContext.Customers.ToListAsync();
    }

    private void AddNewCustomer()
    {
        NavigationManager.NavigateTo("/customers/add");
    }

    private void EditCustomer(int id)
    {
        NavigationManager.NavigateTo($"/customers/edit/{id}");
    }

    private void DeleteCustomer(int id)
    {
        var customer = DbContext.Customers.Find(id);
        if (customer != null)
        {
            DbContext.Customers.Remove(customer);
            DbContext.SaveChanges();
            customers.Remove(customer);
        }
    }
}
